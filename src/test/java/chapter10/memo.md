# chapter 10
## 테스트 코드와 유지보수
### 변수나 필드를 사용해서 기대값 표현하지 않기
### 두 개 이상을 검증하지 않기
### 정확하게 일치하는 값으로 모의 객체 설정하지 않기
### 과도하게 구현 검증하지 않기
- 내부 구현은 언제든지 바뀔 수 있기 때문에 테스트 코드는 내부 구현보다는 실행 결과를 검증해야 한다.
- 기능이 정상적으로 동작하는지 확인할 수단이 구현 검증밖에 없다면 모의 객체를 사용해서 테스트 코드를 작성해야 하지만
일단 테스트 코드를 작성한 뒤에는 점진적으로 코드를 리팩토링해서 구현이 아닌 결과를 검증할 수 있도록 해야 한다. 그렇게 함으로써 
  향후에 사소한 구현 변경으로 인해 테스트가 깨지는 것을 방지할 수 있고 또한 코드의 테스트 가능성도 높일 수 있다.

### 셋업을 이용해서 중복된 상황을 설정하지 않기
- 셋업을 사용하여 중복을 제거하면 코드 길이가 짧아져서 코드 품질이 좋아졌다고 생각할 수 있지만 그렇지 않다.
  - 테스트가 실패한다면 코드를 위이래로 보면서 원인을 찾아야 한다.
  - 모든 테스트가 셋업을(동일한 상황)을 공유한다면 조금만 내용을 변경해도 깨지기 쉬운 테스트가 된다.
- 테스트 메서드는 검증을 목표로 하는 하나의 완전한 프로그램이어야 한다.
- 셋업 메서드는 이용해서 여러 메서드에 동일한 상황을 적용하는 것이 처음에는 편리하지만,
시간이 지나면 테스트 코드를 이해하고 유지 보수하는데 오히려 방해가 된다. 테스트 코드는 자체적으로 검증하는 내용을 완전히
  기술하고 있어야 테스트 코드를 유지보수하는데 노력을 줄일 수 있다.

#### 통합 테스트에서 데이터 공유 주의하기
#### 통합 테스트의 상황 설정을 위한 보조 클래스 사용하기

### 실행 환경이 다르다고 실패하지 않기
- 파일의 경우 절대경로를 사용하지 않고, 프로젝트 기준으로한 상대 경로 사용한다.

### 실행 시점이 다르다고 실패하지 않기
#### 랜덤하게 실패하지 않기
- 랜덤하게 생서한 값이 결과 검증에 영향을 준다면 구조를 변경해야 테스트가 가능하다.
- 직접 랜덤 값을 생성하지 말고 생성자를 통해서 값을 받도록 수정하면 테스트가 가능해진다.
- 랜덤 값 생성을 다른 객체에 위임하도록 바꿔도 된다.

### 필요하지 않은 값을 설정하지 않기
#### 단위 테스트를 위한 객체 생성 보조 클래스
#### 조건부로 검증하지 않기
#### 통합 테스트는 필요하지 않ㅇ느 범위까지 연동하지 않기
#### 더 이상 쓸모 없는 테스트 코드
